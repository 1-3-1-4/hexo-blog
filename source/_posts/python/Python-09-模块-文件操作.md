---
title: Python--09-模块--文件操作
date: 2021-05-07 18:10:51
tags: [Python, Python学习, Python模块]
categories: Python
description: 文件的一些操作函数
---
### 1、`open()`方法

> **注意：**使用open()方法时一定要要保证关闭文件对象，最后调用close()方法

`open(文件名, 模式)`

**完整的语法格式：**

`open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closeFd=True, opener=None)`

> file：必须，文件路径
>
> mode：可选，文件打开模式
>
> buffering：设置缓冲
>
> encoding：一般使用utf8
>
> errors：报错级别
>
> newline：区分换行符
>
> closefd：传入的file参数类型
>
> opener：设置自定义开启器，开启器的返回值必须是一个打开的文件描述符

**mode的参数**

| 模式 | 描述                                                         |      |      |
| ---- | ------------------------------------------------------------ | ---- | ---- |
| t    | 文本模式                                                     |      |      |
| x    | 写模式，新建一个文件，如果该文件已存在则会报错               |      |      |
| b    | 二进制模式                                                   |      |      |
| +    | 打开一个文件进行更新（可写可读）                             |      |      |
| r    | 只读，以只读的方式打开文件。文件的指针将会放在文件的开头。这是默认模式 |      |      |
| rb   | 以二进制格式打开一个文件用于只读。文件指针会放在文件开头。这是默认模式。**一般用于非文本文件如图片** |      |      |
| r+   | 读写，打开一个文件用于读写。文件指针将会放在文件的开头       |      |      |
| rb+  | 以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等 |      |      |
| w    | 打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。 |      |      |
| wb   | 以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。 |      |      |
| w+   | 打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。 |      |      |
| wb+  | 以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。 |      |      |
| a    | 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |      |      |
| ab   | 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |      |      |
| a+   | 打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。 |      |      |
| ab+  | 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。 |      |      |

### 2、file对象

#### 1. `file.close()`

关闭文件。关闭后文件不能在进行读写操作。

```python
file = open('./ceshi.txt', 'a') # 追加
file.write('abc')
file.close()
```

#### 2. `file.flush()`

刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件，而不是被动的等待输出缓冲区写入

#### 3. `file.isatty()`

如果文件连接到一个终端设备返回True，否则返回False

#### 4. `file.read([size])`

从文件读取指定的字节数，如果未给定或为负数则读取所有。

```text
# ceshi.txt 文件
abc
```

```python
file = open('./ceshi.txt', 'r+')
print(file.read())
file.close()
# abc

print(file.read(2))
# ab
```

#### 5. `file.readline([size])`

读取整行，包括"\n"字符

#### 6. `file.seek(offset[, whence])`

移动文件读取指针到指定位置

#### 7. `file.tell()`

返回文件当前位置

#### 8. `file.write(str)`

将字符串写入文件，返回的是写入的字符长度

```python
file = open('./ceshi.txt', 'r+')
print(file.write('i like you'))
# 10
file.close()
```

